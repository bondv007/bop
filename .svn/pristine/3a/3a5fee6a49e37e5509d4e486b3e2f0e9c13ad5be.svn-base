$(document).ready(function() {
	
	//Register form validation
	$("#register_button").click(function(){
    		$('#userSignUp').validate({
			 rules: {
					"data[User][photo]": {
						required: true,
						extension: "png|jpg|jpeg",
						messages:{ 
							
							extension: "Please select profile picture (Only jpeg, jpg, png files allowed)"}
					}
				},	
            submitHandler: function(form) {                
                form.submit();
            }   
        });
	});
	
	//Login form validation
	$("#login_btn").click(function(){
    		$('#UserLoginForm').validate({
            submitHandler: function(form) {                
                form.submit();
            }   
        });
	});
	
	//Forgot password form validation
	$("#forgot_password_btn").click(function(){
    		$('#UserForgotPasswordForm').validate({
            submitHandler: function(form) {                
                form.submit();
            }   
        });
	});

	//Update password form validation
	$( "#UserUpdatePasswordForm" ).validate({
		rules: {
			"data[User][password]": {
			required: true,
			minlength: 4
			},
			"data[User][confirm_password]" : {
                    minlength : 4,
                    equalTo : "#UserPassword"
                }
		}
	});
	
	//Twitter email update form validation
	$("#twitter_login_btn").click(function(){
    		$('#UserTwitterEmailForm').validate({
            submitHandler: function(form) {                
                form.submit();
            }   
        });
	});
	
	//Event create form validation
	$("#save_event").click(function(){		
    		$('#CreateEventForm').validate({
				
				rules: {
					"data[Event][picture]": {
						required: true,
						extension: "png|jpg|jpeg",
						messages:{ 
							
							extension: "Please select profile picture (Only jpeg, jpg, png files allowed)"}
					}
				},
				submitHandler: function(form) 
				{                
					form.submit();
				}   
        });
	});	
	
	
	//Event update form validation
	$("#update_event").click(function(){		
    		$('#CreateEventForm').validate({
				
				rules: {
					"data[Event][picture]": {
						//required: true,
						extension: "png|jpg|jpeg",
						messages:{ 
							
							extension: "Please select profile picture (Only jpeg, jpg, png files allowed)"}
					}
				},
				submitHandler: function(form) 
				{                
					form.submit();
				}   
        });
	});	
	
	//Event registration form validation
	$('#register_submit').click(function(){	
		
    		$('#EventRegistrationForm').validate({
				submitHandler: function(form) 
				{      
						form.submit();
				}   
        });
	});	
	
	//Payment form validation
	$('#payment_submit').click(function(){	
		
    		$('#PaymentForm').validate({
				submitHandler: function(form) 
				{      
					form.submit();
				}   
        });
	});	

	
});

function validate_img(form_id)
{
	var filename = $('#profile_picture').val();
	var extension = filename.substring(filename.lastIndexOf('.')+1);
	
	if(extension == "png" || extension == "jpeg" || extension == "jpg")
	{
		$(form_id).submit();	
	}else{
		alert("Please select valid file. Only png, jpeg, jpg files allowed"); 	
	}
}
